<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="SaiboNiuMa.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SaiboNiuMa"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="SaiboNiuMa">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid>
        <!--<Grid.Resources>
            <converters:MenuItemTemplateSelector x:Key="selector">
                <converters:MenuItemTemplateSelector.ItemTemplate>
                    <DataTemplate>
                        <NavigationViewItem Content="{Binding Name}" ToolTipService.ToolTip="{Binding Tooltip}">
                            <NavigationViewItem.Icon>
                                <SymbolIcon Symbol="{Binding Glyph, Converter={StaticResource IConConverter}}" />
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                    </DataTemplate>
                </converters:MenuItemTemplateSelector.ItemTemplate>
            </converters:MenuItemTemplateSelector>
        </Grid.Resources>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <TitleBar
        x:Name="titleBar"
        Title="WinUI 3 Gallery"
        IsBackButtonVisible="False"
        IsPaneToggleButtonVisible="True">
            <TitleBar.LeftHeader>
                <ImageIcon Source="/Assets/Tiles/GalleryIcon.ico"
                    Height="16"
                    Margin="0, 0, 8, 0"/>
            </TitleBar.LeftHeader>
        </TitleBar>

        <NavigationView
            x:Name="NavigationViewControl"
            Grid.RowSpan="2"
            Grid.Column="1"
            Canvas.ZIndex="0"
            IsTabStop="False"
            DisplayModeChanged="OnPaneDisplayModeChanged"
            IsTitleBarAutoPaddingEnabled="True"
            IsSettingsVisible="False"
            IsBackButtonVisible="Collapsed"
            MenuItemTemplateSelector="{StaticResource selector}"
            SelectedItem="{x:Bind MainWindowViewModel.SelectedItem, Mode=TwoWay}"
            MenuItemsSource="{x:Bind MainWindowViewModel.Menus, Mode=OneWay}">
            <NavigationView.Resources>
                --><!--  This top margin is the height of the custom titleBar  --><!--
                <Thickness x:Key="NavigationViewContentMargin">0,48,0,0</Thickness>
                <Thickness x:Key="NavigationViewMinimalContentMargin">0,48,0,0</Thickness>
                <Thickness x:Key="NavigationViewContentGridBorderThickness">1,1,0,0</Thickness>
                --><!--  This is the rounded corner on the Top left of the L Pattern  --><!--
                <CornerRadius x:Key="NavigationViewContentGridCornerRadius">8,0,0,0</CornerRadius>
            </NavigationView.Resources>

            <TabView
                BringIntoViewRequested="TabView_BringIntoViewRequested"
                MinHeight="475"
                VerticalAlignment="Stretch"
                HorizontalAlignment="Stretch"
                TabItemsSource="{x:Bind MainWindowViewModel.Tabs, Mode=OneWay}"
                SelectedItem="{x:Bind MainWindowViewModel.SelectedItem, Mode=TwoWay}"
                IsAddTabButtonVisible="False"
                AllowDrop="True"
                x:Name="MenuTab"
                Background="#f2f2f2"
                CloseButtonOverlayMode="Always"
                SelectedIndex="0"
                TabCloseRequested="TabView_TabCloseRequested"
                TabWidthMode="Equal">
                <TabView.TabItemTemplate>
                    <DataTemplate x:DataType="vm:MenuViewModel">
                        <TabViewItem Header="{x:Bind Name}">
                            <Grid Name="FrameContainer">
                                <Frame SourcePageType="{x:Bind PageType}"
                                   HorizontalAlignment="Stretch" 
                                   VerticalAlignment="Stretch"/>
                            </Grid>
                        </TabViewItem>
                    </DataTemplate>
                </TabView.TabItemTemplate>
            </TabView>
        </NavigationView>-->
    </Grid>
</Window>
